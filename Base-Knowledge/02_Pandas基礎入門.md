# Pandas基礎入門 - 本当に初歩から始めよう

## 1. Pandasとは？

Pandasは、Pythonでデータを表形式（テーブル）で扱うためのライブラリです。
Excelの表のようなデータを効率的に操作できます。

## 2. まずはライブラリをインポートしてみよう

```python
# Pandasをインポートする
import pandas as pd

# これで pd. を使ってPandasの機能を使えるようになります
print("Pandasをインポートしました！")
```

**実行してみてください：**
- エラーが出なければ成功です
- エラーが出た場合は、Pandasがインストールされていない可能性があります

## 3. 最初の一歩：簡単なデータフレームを作ってみよう

```python
import pandas as pd

# 簡単なデータを作成
data = {
    '名前': ['田中', '佐藤', '鈴木', '高橋'],
    '年齢': [25, 30, 28, 35],
    '部署': ['営業部', '開発部', '営業部', '人事部']
}

# データフレームを作成
df = pd.DataFrame(data)

# データフレームを表示してみよう
print("データフレームの内容:")
print(df)

# データフレームの型を確認
print("データフレームの型:", type(df))
```

**実行結果例：**
```
データフレームの内容:
   名前  年齢   部署
0  田中   25  営業部
1  佐藤   30  開発部
2  鈴木   28  営業部
3  高橋   35  人事部
データフレームの型: <class 'pandas.core.frame.DataFrame'>
```

## 4. データフレームの基本操作

### 4.1 データフレームの作成方法

```python
import pandas as pd

# 方法1: 辞書からデータフレームを作成
data1 = {
    '商品名': ['りんご', 'バナナ', 'オレンジ'],
    '価格': [100, 80, 120],
    '在庫': [50, 30, 25]
}
df1 = pd.DataFrame(data1)
print("方法1で作成したデータフレーム:")
print(df1)

# 方法2: リストのリストから作成
data2 = [
    ['東京', 14000000, '関東'],
    ['大阪', 9000000, '関西'],
    ['名古屋', 2300000, '中部']
]
df2 = pd.DataFrame(data2, columns=['都市', '人口', '地方'])
print("\n方法2で作成したデータフレーム:")
print(df2)
```

### 4.2 データフレームの情報を確認

```python
import pandas as pd

# サンプルデータを作成
data = {
    '名前': ['田中', '佐藤', '鈴木', '高橋', '渡辺'],
    '年齢': [25, 30, 28, 35, 27],
    '部署': ['営業部', '開発部', '営業部', '人事部', '開発部'],
    '給与': [300000, 400000, 320000, 350000, 380000]
}
df = pd.DataFrame(data)

# データフレームの基本情報
print("データフレームの形状（行数、列数）:", df.shape)
print("列名:", df.columns.tolist())
print("データ型:")
print(df.dtypes)

# 最初の3行を表示
print("\n最初の3行:")
print(df.head(3))

# 最後の2行を表示
print("\n最後の2行:")
print(df.tail(2))
```

## 5. 列と行の操作

### 5.1 特定の列を選択

```python
import pandas as pd

# サンプルデータを作成
data = {
    '名前': ['田中', '佐藤', '鈴木', '高橋'],
    '年齢': [25, 30, 28, 35],
    '部署': ['営業部', '開発部', '営業部', '人事部'],
    '給与': [300000, 400000, 320000, 350000]
}
df = pd.DataFrame(data)

# 特定の列を選択
print("名前の列のみ:")
print(df['名前'])

print("\n名前と年齢の列:")
print(df[['名前', '年齢']])

# 列の統計情報
print("\n年齢の統計:")
print(df['年齢'].describe())
```

### 5.2 条件で行を選択

```python
import pandas as pd

# サンプルデータを作成
data = {
    '名前': ['田中', '佐藤', '鈴木', '高橋', '渡辺'],
    '年齢': [25, 30, 28, 35, 27],
    '部署': ['営業部', '開発部', '営業部', '人事部', '開発部'],
    '給与': [300000, 400000, 320000, 350000, 380000]
}
df = pd.DataFrame(data)

# 30歳以上の従業員
print("30歳以上の従業員:")
over_30 = df[df['年齢'] >= 30]
print(over_30)

# 開発部の従業員
print("\n開発部の従業員:")
dev_dept = df[df['部署'] == '開発部']
print(dev_dept)

# 複数条件（30歳以上かつ給与35万円以上）
print("\n30歳以上かつ給与35万円以上:")
high_salary = df[(df['年齢'] >= 30) & (df['給与'] >= 350000)]
print(high_salary)
```

## 6. 簡単な集計をしてみよう

```python
import pandas as pd

# サンプルデータを作成
data = {
    '名前': ['田中', '佐藤', '鈴木', '高橋', '渡辺', '伊藤'],
    '年齢': [25, 30, 28, 35, 27, 32],
    '部署': ['営業部', '開発部', '営業部', '人事部', '開発部', '営業部'],
    '給与': [300000, 400000, 320000, 350000, 380000, 310000]
}
df = pd.DataFrame(data)

# 基本的な統計
print("年齢の統計:")
print(df['年齢'].describe())

print("\n給与の統計:")
print(df['給与'].describe())

# 部署別の従業員数
print("\n部署別従業員数:")
print(df['部署'].value_counts())

# 部署別の平均年齢
print("\n部署別平均年齢:")
print(df.groupby('部署')['年齢'].mean())
```

## 7. 練習問題

### 練習1: 自分のデータフレームを作ってみよう

```python
import pandas as pd

# あなたの好きなデータでデータフレームを作ってください
my_data = {
    '列名1': ['値1', '値2', '値3'],
    '列名2': [10, 20, 30]
}

my_df = pd.DataFrame(my_data)
print("私のデータフレーム:")
print(my_df)
```

### 練習2: データを選択してみよう

```python
import pandas as pd

# サンプルデータ
data = {
    '商品名': ['りんご', 'バナナ', 'オレンジ', 'ぶどう', 'メロン'],
    '価格': [100, 80, 120, 200, 500],
    'カテゴリ': ['果物', '果物', '果物', '果物', '果物']
}
df = pd.DataFrame(data)

# 以下の操作を実行してください
print("価格が100円以上の商品:")
# ここにコードを書いてください

print("\n最初の3つの商品:")
# ここにコードを書いてください
```

## 8. よくあるエラーと対処法

### エラー1: ModuleNotFoundError
```
ModuleNotFoundError: No module named 'pandas'
```
**対処法：** Pandasをインストールしてください
```bash
pip install pandas
```

### エラー2: KeyError（存在しない列名）
```python
import pandas as pd
data = {'名前': ['田中', '佐藤'], '年齢': [25, 30]}
df = pd.DataFrame(data)
print(df['部署'])  # エラー！'部署'という列は存在しない
```
**対処法：** 存在する列名を確認
```python
print("利用可能な列名:", df.columns.tolist())
```

### エラー3: インデックスエラー
```python
import pandas as pd
data = {'名前': ['田中', '佐藤'], '年齢': [25, 30]}
df = pd.DataFrame(data)
print(df.iloc[5])  # エラー！5行目は存在しない
```
**対処法：** データフレームの行数を確認
```python
print("データフレームの行数:", len(df))
```

## 9. まとめ

この章で学んだこと：
- Pandasのインポート方法
- データフレームの作成方法
- 列と行の選択方法
- 条件付きフィルタリング
- 基本的な集計
- エラーの対処法

次のステップ：
- データの読み込み（CSV、Excel）
- データの保存
- より複雑なデータ操作
- データの可視化

**重要：** 実際にコードを実行してみることが大切です！ 