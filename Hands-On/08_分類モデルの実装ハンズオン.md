
## 1. 準備

### 1.1 仮想環境とパッケージインストール

```bash
python -m venv venv
source venv/bin/activate  # Windowsの場合は venv\Scripts\activate
pip install scikit-learn pandas matplotlib seaborn
```

---

## 2. データセットの読み込みと確認

```python
from sklearn.datasets import load_iris
import pandas as pd

dataset = load_iris()
X = dataset.data
y = dataset.target
feature_names = dataset.feature_names
class_names = dataset.target_names

df = pd.DataFrame(X, columns=feature_names)
df['target'] = y
df['target_name'] = df['target'].map(lambda i: class_names[i])
print(df.head())
```

---

## 3. データの可視化

```python
import seaborn as sns
import matplotlib.pyplot as plt
sns.pairplot(df, hue='target_name')
plt.suptitle('Irisデータセットのペアプロット', y=1.02)
plt.show()
```

---

## 4. データ分割

```python
from sklearn.model_selection import train_test_split
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42, stratify=y)
print('学習データ数:', len(X_train), 'テストデータ数:', len(X_test))
```

---

## 5. 決定木による分類

```python
from sklearn.tree import DecisionTreeClassifier, plot_tree
clf = DecisionTreeClassifier(max_depth=3, random_state=42)
clf.fit(X_train, y_train)

# 予測
y_pred = clf.predict(X_test)

# 評価
from sklearn.metrics import accuracy_score, confusion_matrix, classification_report
print('精度:', accuracy_score(y_test, y_pred))
print('混同行列:\n', confusion_matrix(y_test, y_pred))
print('詳細レポート:\n', classification_report(y_test, y_pred, target_names=class_names))

# 決定木の可視化
plt.figure(figsize=(12, 6))
plot_tree(clf, feature_names=feature_names, class_names=class_names, filled=True)
plt.title('決定木の可視化')
plt.show()
```

---

## 6. SVMによる分類

```python
from sklearn.svm import SVC
svm = SVC(kernel='linear', random_state=42)
svm.fit(X_train, y_train)
y_pred_svm = svm.predict(X_test)

print('SVM精度:', accuracy_score(y_test, y_pred_svm))
print('SVM混同行列:\n', confusion_matrix(y_test, y_pred_svm))
print('SVM詳細レポート:\n', classification_report(y_test, y_pred_svm, target_names=class_names))
```

---

## 7. モデル比較とまとめ

- 決定木とSVMの精度や特徴を比較
- 混同行列・精度・再現率・F値の意味を確認
- 適切なモデル選択の考え方を学ぶ

---

## 8. まとめ

- scikit-learnで分類モデルを実装し、評価・可視化まで体験しました。